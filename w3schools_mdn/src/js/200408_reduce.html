<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>reduce</title>
</head>
<body>
<p id="demo"></p>
<script>
//reduce 메소드는 배열의 각 요소에 대해 주어진 리듀서(reducer)함수를 실행하고 하나의 결과값을 반환합니다
var numbers = [1,2,3,4,5];
var reducer = (acc, cur) => acc + cur;
console.log(numbers.reduce(reducer)); // 15
console.log([1,2,3].reduce((accumulater, currentValue) => accumulater + currentValue)); //6

// 초기값을 정한 ES6 reduce 문법
console.log("ES6 total : " , [1,2,3].reduce((acc, cur) => acc + cur, 10));
// 초기값을 정한 ES6 이하 reduce 문법
console.log("ES5 total : ", [1,2,3].reduce(function (acc, cur) {
    return acc + cur;
}, 11));
// 위와 동일
const array1 = [1, 2, 3];
const reducer2 = (accumulator, currentValue) => accumulator + currentValue;
console.log("total 3 : ", array1.reduce(reducer2, 12));

// flat 함수를 써도 된다(위와 동일한 결과)
const flattenIntoArray = [1, ,2,[3,4,[5]]].flat(Infinity);
console.log("flat : ", flattenIntoArray);

console.log([1,2,3,4].reduce(function (acc, cur, idx, arr) {
    console.log("acc : ", acc); // 콜백의 반환값을 누적하는 누산기
    console.log("cur : ", cur); // 처리할 현재 요소
    console.log("idx : ", idx); // 인덱스
    console.log("arr : ", arr); // reduce를 호출한 배열
}, 10));
/* 위 메소드 콘솔 결과. acc는 첫번째 값만 있으며, cur은 두번째값부터 시작한다는 특징이 있음.
acc :  10
cur :  1
idx :  0
arr :  (4) [1, 2, 3, 4]

acc :  undefined
cur :  2
idx :  1
arr :  (4) [1, 2, 3, 4]

acc :  undefined
cur :  3
idx :  2
arr :  (4) [1, 2, 3, 4]

acc :  undefined
cur :  4
idx :  3
arr :  (4) [1, 2, 3, 4]*/
</script>
</body>
</html>